# shell 操作

* [root@eno2050 ~]# echo $SHELL 会输出正在运行的shell
* [root@eno2050 ~]# /etc/shells 可用的shell 配置

## echo 可以输出的颜色配置
|值|颜色|值|颜色|
|:-|:-|:-|:-|
|30m|黑色|34m|蓝色|
|31m|红色|35m|洋红|
|32m|绿色|36m|青色|
|33m|黄色|37m|白色|

> 1. **echo -e "\e[1;34m贱人就是矫情\e[0m"**
> 2. **格式很重要，注意注意**

## Bash的基本功能
### 命令的别民和快捷键，简化命令的作用，习惯化
* 命令的别民 = 人的小名
* 列出所有别名 alias
* 设置别名 alias 小名 = 原命令 临时生效 reboot 失效
* 永久生效的方法 写入环境配置文件 对于root用户来说，这个文件在~/.bashrc 中，对于其他用户就可能在 /home/user1/.basjrc中
* source .bashrc 刷新文件，不用重启，否则不生效
* 删除别名 unalias 别名

### 命令生效顺序
1. 采用绝对或者相对路径执行的命令
2. 别名
3. bash的内部命令
4. 按照$PATH环境变量定义的目录查找顺序找到的第一个命令

### 常用快捷键
|快捷键|意义|
|:-|:-|
|ctrl+c|强制终止当前命令|
|ctrl+l|清屏|
|ctrl+a|光标移动到命令行首|
|ctrl+e|光标移动到命令行尾|
|ctrl+u|从光标所在位置删除到行首|
|ctrl+z|把命令放入后台|
|ctrl+r|在历史命令中搜索|

### 历史命令
* history [选项]
  1.  -c : 清空历史记录
  2. -w : 刷新配置文件的历史记录
  3. 历史记录： 家目录的 .bash_history中
  4.  配置文件/etc/profile
* 历史命令的调用
  1. 上下箭头选择
  2. !n 执行编号n
  3. !! 执行上一条
  4. !字串 执行最后一条以该字串结尾的命令

### 三条最常见的输出重定向命令
* [root@eno2050 ~]# 命令>> 文件 2>&1
* [root@eno2050 ~]# 命令 &>>文件
* [root@eno2050 ~]# 命令>>文件1 2>>文件2
* [root@eno2050 ~]# 命令 &>/dev/null 丢入黑洞

### 输入重定向
* wc [选项] [文件名]
-c 统计字节数
-w 统计单词数
-l 统计行数

### 对命令顺序执行
|多命令执行符|格式|作用|
|:-|:-|:-|
|;|命令1;命令2|多个命令顺序执行，他们之间没有逻辑关系|
|&&|命令1&&命令2|逻辑与 只有命令1正确执行，才会执行命令2|
|\|\||命令1\|\|命令2|逻辑或 只有命令1执行不正确，才会执行命令2|

#### 常见应用
* 打印程序运行时间：[root@eno2050 ~]# date ; tar -zcvf etc.tar.gz /etc; date
* 判断程序代码是否正确执行：[root@eno2050 ~]# ls && echo yes || echo no

### 管道符(多命令顺序执行)
* 格式： 命令1 | 命令2
* 解释：命令1执行成功的结果会传入命令2

#### 常见应用
* [root@eno2050 ~]# ls /etc | more
* [root@eno2050 ~]# netstat -an | grep ESTABLISHED | wc -l

#### 通配符
|通配符|作用|
|:-|:-|
|?|匹配一个任意字符|
|*|匹配0个或者或者任意多个字符|
|[]|匹配中括号里面的任意一个字符|
|[-]|匹配中括号中的任意一个字符，-代表范围，例如a-z代表匹配一个小写字母|
|[^]|逻辑非，表示匹配不是中括号内的一个字符，例如：[^0-9]匹配一个不是数字的字符|

#### 其他特殊符号
|符号|作用|
|:-|:-|
|''|单引号,里面的符号都拾取特殊含义，比如"$"、"`"|
|""|双引号,里面的符号都有特殊函数，比如"$"、"`"|
|``|反引号,包含系统命令，把命令执行的结果付给变量|
|$()|执行系统命令,把结果赋给标量|
|#|注释|
|$|输出变量|
|'\\'|转义符号|
